<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPGAVE 9</title>
    <link rel="stylesheet" href="../styles.css">  <!-- Styles fra andet doc -->
</head>
<body>
    <h1 style="text-align:center">Sandhedstabel</h1>
    <h3 style="text-align:center; color: #828282;">OPGAVE 9</h3>
    <h4 style="text-align:center; color: #828282;">KLIK CELLER FOR AT TESTE</h3>
    <div style="display: flex; justify-content: center; align-items: flex-start;">
<table id="resultsTable">
    <thead>
        <tr>
            <th>Input S (Set)</th>
            <th>Input R (Reset)</th>
            <th>Output Q</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="input-s" class="input-cell">0</td>
            <td id="input-r" class="input-cell">0</td>
            <td id="output-q">0</td>
        </tr>
    </tbody>
</table>
    </div>
    <script src="../basics.js"></script>  <!-- Scripts fra andet doc -->
    <script>
        function calculateOutputs(i1, i2) {
            const b001 = i1 || i2;
            const q1 = b001;
            return q1;
        }
		

function LatchingRelay() {
    this.outputQ = false;  // Initial state of output Q

    this.setReset = function(s, r) {
        if (r) {
            // If R is active, reset Q regardless of S
            this.outputQ = false;
        } else if (s) {
            // Only set Q if R is not active
            this.outputQ = true;
        }
        updateOutput(); // Update the output display
    };
}

function updateOutput() {
    const outputCell = document.getElementById('output-q');
    outputCell.textContent = outputSystem.outputQ ? '1' : '0';
}

// Instantiate the relay system
let outputSystem = new LatchingRelay();

// Setup click handlers to simulate input changes
document.getElementById('input-s').addEventListener('click', function() {
    // Toggle S on click
    const s = this.textContent === '0' ? true : false;
    this.textContent = s ? '1' : '0';
    outputSystem.setReset(s, document.getElementById('input-r').textContent === '1');
});

document.getElementById('input-r').addEventListener('click', function() {
    // Toggle R on click
    const r = this.textContent === '0' ? true : false;
    this.textContent = r ? '1' : '0';
    outputSystem.setReset(document.getElementById('input-s').textContent === '1', r);
});

    </script>
</body>
</html>
